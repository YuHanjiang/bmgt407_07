<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="assets/css/page-dim.css">
    <link rel="stylesheet" href="assets/css/calendar.css">
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
            integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
            crossorigin="anonymous"
    />
    <title>Schedule</title>
    <script src="assets/js/daypilot-all.min.js"></script>

</head>
<body>

<nav class="navbar navbar-expand-sm bg-danger navbar-dark">
    <ul class="navbar-nav">
        <a class="navbar-brand">
            <img src="assets/img/logo.png" alt="Logo" style="height:30px;">
        </a>
        <li class="nav-item">
            <a class="nav-link" href="homepage.html">Home</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" href="schedule.html">Schedule</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="calendar.html">Calendar</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="hire.html">Become a Tutor</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="DashBoard.html">Dashboard</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="index.html">Sign Out</a>
        </li>
    </ul>
</nav>

<br>

<div class="row">
    <div class="col-8">
        <div class="scale">
            <div class="main">
                <div style="display: flex">
                    <div style="margin-right: 10px;">
                        <div id="nav"></div>
                    </div>
                    <div style="flex-grow: 1;">
                        <div id="dp"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-4">
        <div class="container">
            <div class="row justify-content-center">
                <form>
                    <div class="p-2">
                        <div class="text-center">
                            <h4>Schedule Appointments</h4>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="course">Course:</label>
                        <select class="form-control" id="course" required>
                            <option>BMGT220</option>
                            <option>BMGT221</option>
                            <option>BMGT230</option>
                            <option>BMGT340</option>
                            <option>BSCI170</option>
                            <option>CHEM131</option>
                            <option>CHEM135</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="tutor">Tutor: </label>
                        <select class="form-control" id="tutor" required>

                        </select>
                    </div>

                    <div class="form-group">
                        <label for="date">Date: </label>
                        <input type="date" id="date" required>
                    </div>

                    <div class="form-group">
                        <label for="time">Time: </label>
                        <input type="time" id="time">
                    </div>

                    <div class="form-group">
                        <label for="comment">Comments:</label>
                        <textarea class="form-control" id="comment" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="file-upload">Upload file: </label>
                        <input type="file" class="form-control-file" id="file-upload" required>
                    </div>

                    <div class="form-group">
                        <button class="btn btn-primary btn-block" type="submit">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
    const nav = new DayPilot.Navigator("nav");
    nav.showMonths = 3;
    nav.skipMonths = 3;
    nav.selectMode = "week";
    const dp = new DayPilot.Calendar("dp");
    nav.onTimeRangeSelected = function (args) {
        dp.startDate = args.day;
        dp.update();
        loadEvents();
    };
    nav.init();

    dp.viewType = "Week";

    dp.eventDeleteHandling = "Update";

    dp.onEventResized = function (args) {
        DayPilot.Http.ajax({
            url: "backend_move.php",
            data: {
                id: args.e.id(),
                newStart: args.newStart,
                newEnd: args.newEnd
            },
            success: function () {
                console.log("Resized.");
            }
        });
    };

    dp.init();

    loadEvents();

    function loadEvents() {
        dp.events.load("backend_events.php");
    }

</script>

<script type="text/javascript">
    const elements = {
        theme: document.querySelector("#theme")
    };

    elements.theme.addEventListener("change", function () {
        dp.theme = this.value;
        dp.update();
    });

</script>
</body>
</html>